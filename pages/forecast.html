<div id="forecast-wrapper">
    <div ng-show="weatherResultRaw !== undefined">
        <!-- Forecast for {{ chosenPlace }} -->

        <!-- current temp is {{temp}} -->
        <a id="go-back" href="#!/">
            <svg id="go-back-arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 476.737 476.737" xml:space="preserve">
                <g>
                    <path d="M238.369,0C106.726,0,0,106.726,0,238.369c0,131.675,106.726,238.369,238.369,238.369
                        c131.675,0,238.369-106.694,238.369-238.369C476.737,106.726,370.043,0,238.369,0z M289.221,330.252
                        c6.198,6.198,6.198,16.273,0,22.47s-16.273,6.198-22.47,0L163.68,249.651c-3.115-3.115-4.64-7.183-4.64-11.283
                        s1.526-8.168,4.64-11.283L266.75,124.015c6.198-6.198,16.273-6.198,22.47,0c6.198,6.198,6.198,16.273,0,22.47l-91.883,91.883
                        L289.221,330.252z"/>
                </g>
            </svg>
        </a>

        <svg id="key-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 155.54 73.91">
            <path class="a" d="M133.19,48.2H118.51c0,4.54.07,8.84,0,13.12-.16,7.53-4.44,12.51-10.68,12.59-6.94.08-11.43-4.77-11.61-12.72-.1-4.15,0-8.3,0-13.23-7.69,0-15.1-.13-22.49.16-1,0-2.18,2.13-2.8,3.49A37.33,37.33,0,0,1,35,73.83a37.36,37.36,0,0,1-33.27-26,36.87,36.87,0,0,1,22-45.25C42-4.56,62.61,3.64,70.47,21.61c1.58,3.59,3.4,4.39,7,4.36,21.31-.16,42.63-.09,63.94-.07,10.1,0,14.08,4.05,14.12,14.28,0,7,.08,14,0,21-.11,7.78-4.56,12.84-11,12.75-6.77-.11-11.07-4.84-11.27-12.56C133.1,57.06,133.19,52.77,133.19,48.2ZM36.81,22.14A14.77,14.77,0,1,0,51.7,36.43,14.61,14.61,0,0,0,36.81,22.14Z"/>
        </svg>

        <div id="key" class="copy"> 
            <li>temperature: <span>F</span></li>
            <li>rain: <span>mm</span></li>
            <li>air pressure: <span>kPa</span></li>
            <li>wind speed: <span>MPH</span></li>
        </div>

        <div id="date" class="copy">
            <p>{{ dateUnix * 1000 | date: "dd" }} {{ dateUnix * 1000 | date: "MMMM" }} <span>{{ dateUnix * 1000 | date: "yyyy" }} | {{ chosenPlace.slice(0, -5) || "somewhere over the rainbow"}} </span></p>
        </div>
        
        <section class="container temperature">
            <svg id="thermometer" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 183.12 624.17">
                <defs>
                    <mask id="thermometer-mask">
                        <rect class="thermo no-height active" x="300" y="-465" width="215" ng-attr-height="{{ thermometerFill }}%" transform="rotate(-180 247.5 78.5)" fill="#ffffff" />
                    </mask>
                </defs>
                <path class="fill" mask="url(#thermometer-mask)" d="M47.61,244.15c0-66-.22-132.06.12-198.09C47.85,23.81,63.47,6.56,84.5,3.51c22.16-3.22,42.93,9.11,48.93,30.21,2.14,7.5,2.09,15.79,2.1,23.72q.16,191.34-.07,382.68c0,9.62,2.07,16,10.47,22.48,41.28,31.85,45.67,92,10.49,130.11a88.26,88.26,0,0,1-129.4.46c-35.35-37.4-31.31-97.86,9.7-130.2,8.66-6.83,11.1-13.45,11-23.73-.4-65-.21-130.06-.21-195.09Z"></path>
                <path class="outline" d="M47.61,244.15c0-66-.22-132.06.12-198.09C47.85,23.81,63.47,6.56,84.5,3.51c22.16-3.22,42.93,9.11,48.93,30.21,2.14,7.5,2.09,15.79,2.1,23.72q.16,191.34-.07,382.68c0,9.62,2.07,16,10.47,22.48,41.28,31.85,45.67,92,10.49,130.11a88.26,88.26,0,0,1-129.4.46c-35.35-37.4-31.31-97.86,9.7-130.2,8.66-6.83,11.1-13.45,11-23.73-.4-65-.21-130.06-.21-195.09Z" />
            </svg>
            <div class="copy">
                <p>TEMPERATURE</p>
                <p class="reading">{{ temp | number: 0 }}<span>{{ (temp | number: 1).slice(-2) }}</span></p>
            </div>
        </section>

        <section class="container rainfall">
            <svg id="rain-meter" xmlns="http://www.w3.org/2000/svg" viewBox="-2 -6 59.01 121.37">
                <defs>
                    <mask id="rain-meter-mask">
                        <rect class="rain no-height active" x="440" y="55" width="55" ng-attr-height="{{ rainFill }}%" transform="rotate(-180 247.5 78.5)" fill="#ffffff" />
                    </mask>
                </defs>
                <path class="fill" mask="url(#rain-meter-mask)" d="M27.51,1.31,52.45,61.53a27,27,0,1,1-49.88,0Z"></path>
                <path class="outline" d="M27.51,1.31,52.45,61.53a27,27,0,1,1-49.88,0Z"/>
            </svg>
            
            <div class="copy">
                <p>RAIN</p>
                <div class="reading" ng-show="rain">
                    <p>{{ rain | number: 0 }}<span>{{ (rain | number: 3).slice(-4) }} </span></p>
                </div>
                <div class="unavailable" ng-show="!rain || rain === 0">
                    <p>unavailable</p>
                </div>
            </div>
        </section>

        <section class="container air-pressure">
            <svg id="pressure-gauge" class="gauge" viewbox="-2.5 -5 35 35">
                <!-- OUTLINE COLOR -->
                <path
                d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                class="outline"
                />
                <!-- BACKGROUND COLOR -->
                <path
                d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                class="background"
                />
                <!-- FILL COLOR -->
                <path
                d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                class="pressure fill empty active"
                ng-attr-stroke-dasharray="{{ pressureFill }}, 100";
                stroke-linecap= "round";
            />
            </svg>
            <div class="copy">
                <p class="reading">{{ pressure | removeCommas }}<span>{{ (pressure | number: 1).slice(-2) }} </span></p>
                <p>PRESSURE</p>
            </div>
        </section>
        <section class="container humidity">
            <svg id="humidity-gauge" class="gauge" viewbox="-2.5 -5 35 35">
                    <!-- OUTLINE COLOR -->
                    <path
                    d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                    class="outline"
                    stroke-dasharray="75, 100";
                    />
                    <!-- BACKGROUND COLOR -->
                    <path
                    d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                    class="background"
                    />
                    <!-- FILL COLOR -->
                    <path
                    d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                    class="humidity fill empty active"
                    ng-attr-stroke-dasharray="{{ humidityFill }}, 100";
                />
                </svg>
                <div class="copy">
                    <p class="reading">{{ humidity | number: 0 }}</p>
                    <p>HUMIDITY</p>
                </div>
        </section>

        <section class="container windspeed">
            <svg id="windspeed-gauge" class="gauge" viewbox="-2.5 -5 35 35">
                    <!-- OUTLINE COLOR -->
                    <path
                    d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                    class="outline"
                    />
                    <!-- BACKGROUND COLOR -->
                    <path
                    d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                    class="background"
                    />
                    <!-- FILL COLOR -->
                    <path
                    d="M4.73,24.68a14.11,14.11,0,1,1,19.85-.1"
                    class="windspeed fill empty active"
                    ng-attr-stroke-dasharray="{{ windFill }}, 100";
                />
            </svg>
            <div class="copy">
                <p class="reading">{{ windSpeed | number: 0 }}<span>{{ (windSpeed | number: 1).slice(-2) }} </span></p>
                <p>WIND</p>
            </div>
        </section>

        <section class="container wind-direction">
                
            <!-- <svg class="wind-direction-gauge" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 218 218"> -->
            <svg class="wind-direction-gauge" xmlns="http://www.w3.org/2000/svg" viewBox="-1 -2 220 222">
            
                <polygon class="wind-direction-reading" points="141.11 92.85 125.18 92.85 125.18 164.03 92.8 164.03 92.8 92.85 76.89 92.85 109 53.97 141.11 92.85"/>
                <circle class="circle" cx="109" cy="109" r="109"/>
            </svg>
            <div class="copy">
                <p class="reading">{{ windDirection | number: 0 }}&deg;</p>
                <p>WIND DIRECTION</p>
            </div>
        </section>
        <p id="api-credit" class="copy"> Powered by <a target="_blank" href="https://www.openweathermap.org">openweathermap</a></p>
    </div>
    <div class="error-message copy" ng-show="error">
        <h1>Unfortunately, we do not have weather data for your selected location. <br>
            <span>You can <a href="#!/home">go back</a> and try a nearby location.</span></h1> 
    </div>
    <div class="loading" ng-show="!error && weatherResultRaw === undefined">
        <img src="assets/static/spinner.svg" />
    </div>
</div>